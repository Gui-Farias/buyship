name: CI - main devships

on:
  pull_request:
    branches:
      - main
    types: [opened, synchronize, reopened]

concurrency:
  group: ci-main-${{ github.ref }}
  cancel-in-progress: true

jobs:
  ci:
    name: DevShip CI (reusable)
    uses: ./.github/workflows/reusable-ci.yml
    with:
      node_version: "20"
      artifact_name: dist-${{ github.sha }}
      build_path: dist
      coverage_artifact_name: coverage-html-${{ github.sha }}
      coverage_path: coverage
